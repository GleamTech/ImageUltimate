@using GleamTech.ExamplesCore
@using GleamTech.ImageUltimate.Web
@using GleamTech.Web.Mvc
@model GleamTech.ImageUltimateExamples.Mvc.CS.Models.ProcessingViewModel

<!DOCTYPE html>

<html>
<head>
    <title>Image Processing</title>
    <link href="@ExamplesCoreConfiguration.GetVersionedUrl("~/resources/table.css")" rel="stylesheet" />
</head>
<body style="margin: 20px;">

    @using (Html.BeginForm("Processing", "Home"))
    {
        @Html.RenderControl(Model.ExampleFileSelector)

        <p>
            Choose task: @Html.DropDownList("taskSelector", Model.TaskSelectList, new { onchange = "this.form.submit();" })
        </p>
    }

    <table class="info image">
        <caption>Resulting Image</caption>
        <tr>
            <td>@Html.Image(Model.ImagePath, Model.TaskAction)</td>
        </tr>
    </table>

    <table class="info image">
        <caption>Original Image (Resized to width 300)</caption>
        <tr>
            <td>@Html.Image(Model.ImagePath, task => task.ResizeWidth(300))</td>
        </tr>
    </table>

    <table class="info">
        <caption>Resulting Image Url</caption>
        <tr>
            <td>@Url.Image(Model.ImagePath, Model.TaskAction)</td>
        </tr>
    </table>

</body>
</html>
